{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/tradinglocal/jsprolocal/src/app/history/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/history/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/history/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/tradinglocal/jsprolocal/src/app/history/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/history/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/history/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwQ,GACrS,sCACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/tradinglocal/jsprolocal/src/app/actions/stockActions.ts"],"sourcesContent":["'use server';\r\n\r\nimport yahooFinance from 'yahoo-finance2';\r\n\r\n// Configure yahoo-finance2\r\nyahooFinance.setGlobalConfig({\r\n  queue: {\r\n    concurrency: 5,\r\n    timeout: 30000,\r\n  },\r\n});\r\n\r\nexport interface StockQuote {\r\n  symbol: string;\r\n  name: string;\r\n  price: number;\r\n  change: number;\r\n  changePercentage: number;\r\n  volume: number;\r\n  marketCap: number;\r\n}\r\n\r\nexport interface HistoricalData {\r\n  date: Date;\r\n  open: number;\r\n  high: number;\r\n  low: number;\r\n  close: number;\r\n  volume: number;\r\n}\r\n\r\nexport interface SearchResult {\r\n  symbol: string;\r\n  shortname?: string;\r\n  longname?: string;\r\n  exchange: string;\r\n  typeDisp: string;\r\n  quoteType: string;\r\n}\r\n\r\nexport async function getStockQuote(symbol: string): Promise<StockQuote> {\r\n  try {\r\n    // Add retry logic and better error handling\r\n    let retries = 3;\r\n    // Error tracking removed for cleaner code\r\n\r\n    while (retries > 0) {\r\n      try {\r\n        const quote = await yahooFinance.quote(symbol, {\r\n          fields: [\r\n            'symbol',\r\n            'longName',\r\n            'shortName',\r\n            'regularMarketPrice',\r\n            'regularMarketChange',\r\n            'regularMarketChangePercent',\r\n            'regularMarketVolume',\r\n            'marketCap'\r\n          ]\r\n        });\r\n\r\n        if (!quote) {\r\n          throw new Error(`No data received for ${symbol}`);\r\n        }\r\n\r\n        return {\r\n          symbol: quote.symbol || symbol,\r\n          name: quote.longName || quote.shortName || symbol,\r\n          price: Number(quote.regularMarketPrice) || 0,\r\n          change: Number(quote.regularMarketChange) || 0,\r\n          changePercentage: Number(quote.regularMarketChangePercent) || 0,\r\n          volume: Number(quote.regularMarketVolume) || 0,\r\n          marketCap: Number(quote.marketCap) || 0,\r\n        };\r\n      } catch (error) {\r\n        // Error logged for debugging\r\n        retries--;\r\n        \r\n        if (retries > 0) {\r\n          // Wait before retrying\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n    }\r\n\r\n    // If all retries failed, return a fallback quote\r\n    console.warn(`Failed to fetch quote for ${symbol} after retries, using fallback data`);\r\n    return {\r\n      symbol: symbol,\r\n      name: symbol,\r\n      price: 0,\r\n      change: 0,\r\n      changePercentage: 0,\r\n      volume: 0,\r\n      marketCap: 0,\r\n    };\r\n  } catch (error) {\r\n    console.error(`Error fetching quote for ${symbol}:`, error);\r\n    // Return fallback data instead of throwing\r\n    return {\r\n      symbol: symbol,\r\n      name: symbol,\r\n      price: 0,\r\n      change: 0,\r\n      changePercentage: 0,\r\n      volume: 0,\r\n      marketCap: 0,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getHistoricalData(\r\n  symbol: string,\r\n  period: '1d' | '5d' | '1mo' | '3mo' | '6mo' | '1y' = '1mo'\r\n): Promise<HistoricalData[]> {\r\n  try {\r\n    // Using chart instead of historical as recommended\r\n    const result = await yahooFinance.chart(symbol, {\r\n      period1: getStartDate(period),\r\n      period2: new Date(),\r\n      interval: '1d',\r\n      includePrePost: false,\r\n    });\r\n\r\n    if (!result.quotes || result.quotes.length === 0) {\r\n      throw new Error(`No historical data received for ${symbol}`);\r\n    }\r\n\r\n    return result.quotes.map(quote => ({\r\n      date: quote.date,\r\n      open: Number(quote.open) || 0,\r\n      high: Number(quote.high) || 0,\r\n      low: Number(quote.low) || 0,\r\n      close: Number(quote.close) || 0,\r\n      volume: Number(quote.volume) || 0,\r\n    }));\r\n  } catch (error) {\r\n    console.error(`Error fetching historical data for ${symbol}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchStocks(query: string): Promise<SearchResult[]> {\r\n  try {\r\n    const results = await yahooFinance.search(query);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return results.quotes\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      .filter((quote: any) => \r\n        quote.quoteType === 'EQUITY' || quote.quoteType === 'ETF'\r\n      )\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      .map((quote: any) => ({\r\n        symbol: quote.symbol || '',\r\n        shortname: quote.shortname,\r\n        longname: quote.longname,\r\n        exchange: quote.exchange || '',\r\n        typeDisp: quote.typeDisp || '',\r\n        quoteType: quote.quoteType || '',\r\n      }));\r\n  } catch (error) {\r\n    console.error(`Error searching stocks with query ${query}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTrendingStocks(): Promise<StockQuote[]> {\r\n  // FAANG + Popular tech stocks\r\n  const trendingSymbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'META', 'TSLA', 'NVDA', 'NFLX'];\r\n  \r\n  try {\r\n    const quotes = await Promise.all(\r\n      trendingSymbols.map(async symbol => {\r\n        try {\r\n          return await getStockQuote(symbol);\r\n        } catch (error) {\r\n          console.error(`Error fetching ${symbol}:`, error);\r\n          // Return a placeholder if individual stock fetch fails\r\n          return {\r\n            symbol,\r\n            name: symbol,\r\n            price: 0,\r\n            change: 0,\r\n            changePercentage: 0,\r\n            volume: 0,\r\n            marketCap: 0\r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    // Filter out any failed fetches that returned placeholder data\r\n    const validQuotes = quotes.filter(quote => quote.price > 0);\r\n    \r\n    if (validQuotes.length === 0) {\r\n      throw new Error('Failed to fetch any valid stock data');\r\n    }\r\n    \r\n    return validQuotes;\r\n  } catch (error) {\r\n    console.error('Error fetching trending stocks:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getDailyGainers(): Promise<StockQuote[]> {\r\n  // Popular stocks that typically have significant daily movements\r\n  const gainerSymbols = ['NVDA', 'AMD', 'TSLA', 'META', 'NFLX', 'CRM', 'ADBE', 'PYPL'];\r\n  \r\n  try {\r\n    const quotes = await Promise.all(\r\n      gainerSymbols.map(async symbol => {\r\n        try {\r\n          return await getStockQuote(symbol);\r\n        } catch (error) {\r\n          console.error(`Error fetching ${symbol}:`, error);\r\n          return {\r\n            symbol,\r\n            name: symbol,\r\n            price: 0,\r\n            change: 0,\r\n            changePercentage: 0,\r\n            volume: 0,\r\n            marketCap: 0\r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    const validQuotes = quotes.filter(quote => quote.price > 0);\r\n    \r\n    // Sort by percentage gain (highest first)\r\n    return validQuotes\r\n      .filter(quote => quote.changePercentage > 0)\r\n      .sort((a, b) => b.changePercentage - a.changePercentage)\r\n      .slice(0, 6); // Return top 6 gainers\r\n  } catch (error) {\r\n    console.error('Error fetching daily gainers:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getDailyLosers(): Promise<StockQuote[]> {\r\n  // Popular stocks that typically have significant daily movements\r\n  const loserSymbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'META', 'TSLA', 'NVDA', 'NFLX'];\r\n  \r\n  try {\r\n    const quotes = await Promise.all(\r\n      loserSymbols.map(async symbol => {\r\n        try {\r\n          return await getStockQuote(symbol);\r\n        } catch (error) {\r\n          console.error(`Error fetching ${symbol}:`, error);\r\n          return {\r\n            symbol,\r\n            name: symbol,\r\n            price: 0,\r\n            change: 0,\r\n            changePercentage: 0,\r\n            volume: 0,\r\n            marketCap: 0\r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    const validQuotes = quotes.filter(quote => quote.price > 0);\r\n    \r\n    // Sort by percentage loss (lowest first)\r\n    return validQuotes\r\n      .filter(quote => quote.changePercentage < 0)\r\n      .sort((a, b) => a.changePercentage - b.changePercentage)\r\n      .slice(0, 6); // Return top 6 losers\r\n  } catch (error) {\r\n    console.error('Error fetching daily losers:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Helper function to calculate start date based on period\r\nfunction getStartDate(period: '1d' | '5d' | '1mo' | '3mo' | '6mo' | '1y'): Date {\r\n  const now = new Date();\r\n  switch (period) {\r\n    case '1d':\r\n      return new Date(now.setDate(now.getDate() - 1));\r\n    case '5d':\r\n      return new Date(now.setDate(now.getDate() - 5));\r\n    case '1mo':\r\n      return new Date(now.setMonth(now.getMonth() - 1));\r\n    case '3mo':\r\n      return new Date(now.setMonth(now.getMonth() - 3));\r\n    case '6mo':\r\n      return new Date(now.setMonth(now.getMonth() - 6));\r\n    case '1y':\r\n      return new Date(now.setFullYear(now.getFullYear() - 1));\r\n    default:\r\n      return new Date(now.setMonth(now.getMonth() - 1));\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}