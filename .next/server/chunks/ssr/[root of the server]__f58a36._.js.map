{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/trading/my-app-2/src/app/market/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/market/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/market/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/trading/my-app-2/src/app/market/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/market/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/market/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuQ,GACpS,qCACA"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/patel/Downloads/temp/trading/my-app-2/src/app/actions/stockActions.ts"],"sourcesContent":["'use server';\r\n\r\nimport yahooFinance from 'yahoo-finance2';\r\n\r\n// Configure yahoo-finance2\r\nyahooFinance.setGlobalConfig({\r\n  queue: {\r\n    concurrency: 5,\r\n    timeout: 30000,\r\n  },\r\n});\r\n\r\nexport interface StockQuote {\r\n  symbol: string;\r\n  name: string;\r\n  price: number;\r\n  change: number;\r\n  changePercentage: number;\r\n  volume: number;\r\n  marketCap: number;\r\n}\r\n\r\nexport interface HistoricalData {\r\n  date: Date;\r\n  open: number;\r\n  high: number;\r\n  low: number;\r\n  close: number;\r\n  volume: number;\r\n}\r\n\r\nexport async function getStockQuote(symbol: string): Promise<StockQuote> {\r\n  try {\r\n    // Using the quote method with specific fields\r\n    const quote = await yahooFinance.quote(symbol, {\r\n      fields: [\r\n        'symbol',\r\n        'longName',\r\n        'shortName',\r\n        'regularMarketPrice',\r\n        'regularMarketChange',\r\n        'regularMarketChangePercent',\r\n        'regularMarketVolume',\r\n        'marketCap'\r\n      ]\r\n    });\r\n\r\n    console.log(`Raw data for ${symbol}:`, JSON.stringify(quote, null, 2));\r\n\r\n    if (!quote) {\r\n      throw new Error(`No data received for ${symbol}`);\r\n    }\r\n    \r\n    return {\r\n      symbol: quote.symbol || symbol,\r\n      name: quote.longName || quote.shortName || symbol,\r\n      price: Number(quote.regularMarketPrice) || 0,\r\n      change: Number(quote.regularMarketChange) || 0,\r\n      changePercentage: Number(quote.regularMarketChangePercent) || 0,\r\n      volume: Number(quote.regularMarketVolume) || 0,\r\n      marketCap: Number(quote.marketCap) || 0,\r\n    };\r\n  } catch (error) {\r\n    console.error(`Error fetching quote for ${symbol}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getHistoricalData(\r\n  symbol: string,\r\n  period: '1d' | '5d' | '1mo' | '3mo' | '6mo' | '1y' = '1mo'\r\n): Promise<HistoricalData[]> {\r\n  try {\r\n    // Using chart instead of historical as recommended\r\n    const result = await yahooFinance.chart(symbol, {\r\n      period1: getStartDate(period),\r\n      period2: new Date(),\r\n      interval: '1d',\r\n      includePrePost: false,\r\n    });\r\n\r\n    if (!result.quotes || result.quotes.length === 0) {\r\n      throw new Error(`No historical data received for ${symbol}`);\r\n    }\r\n\r\n    return result.quotes.map(quote => ({\r\n      date: quote.date,\r\n      open: Number(quote.open) || 0,\r\n      high: Number(quote.high) || 0,\r\n      low: Number(quote.low) || 0,\r\n      close: Number(quote.close) || 0,\r\n      volume: Number(quote.volume) || 0,\r\n    }));\r\n  } catch (error) {\r\n    console.error(`Error fetching historical data for ${symbol}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchStocks(query: string) {\r\n  try {\r\n    const results = await yahooFinance.search(query);\r\n    return results.quotes.filter((quote: any) => \r\n      quote.quoteType === 'EQUITY' || quote.quoteType === 'ETF'\r\n    );\r\n  } catch (error) {\r\n    console.error(`Error searching stocks with query ${query}:`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getTrendingStocks(): Promise<StockQuote[]> {\r\n  // Popular tech stocks\r\n  const trendingSymbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'META', 'TSLA'];\r\n  \r\n  try {\r\n    const quotes = await Promise.all(\r\n      trendingSymbols.map(async symbol => {\r\n        try {\r\n          return await getStockQuote(symbol);\r\n        } catch (error) {\r\n          console.error(`Error fetching ${symbol}:`, error);\r\n          // Return a placeholder if individual stock fetch fails\r\n          return {\r\n            symbol,\r\n            name: symbol,\r\n            price: 0,\r\n            change: 0,\r\n            changePercentage: 0,\r\n            volume: 0,\r\n            marketCap: 0\r\n          };\r\n        }\r\n      })\r\n    );\r\n    \r\n    // Filter out any failed fetches that returned placeholder data\r\n    const validQuotes = quotes.filter(quote => quote.price > 0);\r\n    \r\n    if (validQuotes.length === 0) {\r\n      throw new Error('Failed to fetch any valid stock data');\r\n    }\r\n    \r\n    return validQuotes;\r\n  } catch (error) {\r\n    console.error('Error fetching trending stocks:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Helper function to calculate start date based on period\r\nfunction getStartDate(period: '1d' | '5d' | '1mo' | '3mo' | '6mo' | '1y'): Date {\r\n  const now = new Date();\r\n  switch (period) {\r\n    case '1d':\r\n      return new Date(now.setDate(now.getDate() - 1));\r\n    case '5d':\r\n      return new Date(now.setDate(now.getDate() - 5));\r\n    case '1mo':\r\n      return new Date(now.setMonth(now.getMonth() - 1));\r\n    case '3mo':\r\n      return new Date(now.setMonth(now.getMonth() - 3));\r\n    case '6mo':\r\n      return new Date(now.setMonth(now.getMonth() - 6));\r\n    case '1y':\r\n      return new Date(now.setFullYear(now.getFullYear() - 1));\r\n    default:\r\n      return new Date(now.setMonth(now.getMonth() - 1));\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}