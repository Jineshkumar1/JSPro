(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{2061:(e,t,s)=>{Promise.resolve().then(s.bind(s,1531))},1531:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(5155),r=s(2115),l=s(8802);let n=["#F7931A","#627EEA","#00FFA3","#26A17B","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD"];function c(e){let{holdings:t,totalValue:s,cashBalance:r}=e;if(0===t.length&&0===r)return(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Asset Distribution"}),(0,a.jsx)("div",{className:"flex items-center justify-center h-64 text-text-secondary",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCCA"}),(0,a.jsx)("div",{children:"No assets in portfolio yet"}),(0,a.jsx)("div",{className:"text-sm mt-1",children:"Add some stocks or deposit cash to see your distribution"})]})})]});let l=[];t.forEach((e,t)=>{e.value>0&&l.push({symbol:e.symbol,name:e.name,value:e.value,color:n[t%n.length],percentage:s>0?e.value/s*100:0})}),r>0&&s>0&&l.push({symbol:"CASH",name:"Cash",value:r,color:"#10B981",percentage:r/s*100});let c=l.reduce((e,t)=>e+t.percentage,0);c>100&&l.forEach(e=>{e.percentage=e.percentage/c*100});let i=-90;return(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Asset Distribution"}),(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:l.map((e,t)=>{let s=Math.min(e.percentage,100)/100*360,r=i,l=i+s,n=100+80*Math.cos(r*Math.PI/180),c=100+80*Math.sin(r*Math.PI/180),o=100+80*Math.cos(l*Math.PI/180),d=100+80*Math.sin(l*Math.PI/180),x=["M ".concat(n," ").concat(c),"A ".concat(80," ").concat(80," 0 ").concat(s>180?1:0," 1 ").concat(o," ").concat(d)].join(" ");return i+=s,(0,a.jsx)("path",{d:x,fill:"none",stroke:e.color,strokeWidth:20,strokeLinecap:"round"},"chart-".concat(e.symbol,"-").concat(t))})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",s.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Total Value"})]})})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"space-y-3",children:l.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:e.name})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:["$",e.value.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm text-text-secondary",children:[e.percentage.toFixed(1),"%"]})]})]},"legend-".concat(e.symbol,"-").concat(t)))})})]})]})}var i=s(3998),o=s(3303),d=s(4869),x=s(4057);let m=(0,x.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),h=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function u(e){let{holdings:t,onRemoveStock:s,onEditStock:r,onSellStock:l}=e;return 0===t.length?(0,a.jsx)("div",{className:"bg-card rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-text-secondary",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCC8"}),(0,a.jsx)("div",{children:"No stocks in your portfolio yet"}),(0,a.jsx)("div",{className:"text-sm mt-1",children:"Add some stocks to start tracking your investments"})]})}):(0,a.jsx)("div",{className:"bg-card rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-background",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Asset"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Shares"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Avg Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Current Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Value"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Return"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-background",children:t.map(e=>{let t=e.return>=0;return(0,a.jsxs)("tr",{className:"hover:bg-background/50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-text-primary",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:e.shares.toLocaleString()}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:["$",e.avgPrice.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:["$",e.currentPrice.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:["$",e.value.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(t?"text-success":"text-error"),children:[t?(0,a.jsx)(i.A,{className:"h-4 w-4"}):(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["$",Math.abs(e.return).toFixed(2)]}),(0,a.jsxs)("span",{children:["(",e.returnPercentage.toFixed(2),"%)"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>l(e),className:"text-error hover:text-error/80 transition-colors",title:"Sell shares",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>r(e),className:"text-accent hover:text-accent/80 transition-colors",title:"Edit position",children:(0,a.jsx)(m,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>s(e.symbol),className:"text-error hover:text-error/80 transition-colors",title:"Remove from portfolio",children:(0,a.jsx)(h,{className:"h-4 w-4"})})]})})]},e.symbol)})})]})})})}var p=s(689),b=s(2591);let g=(0,x.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var y=s(8919);function j(e){let{isOpen:t,onClose:s,onAddStock:l,existingHoldings:n}=e,[c,i]=(0,r.useState)(""),[o,d]=(0,r.useState)([]),[x,m]=(0,r.useState)(!1),[h,u]=(0,r.useState)(null),[j,f]=(0,r.useState)(""),[N,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),S=async e=>{if(i(e),e.length>=2){m(!0);try{let t=(await (0,y.i)(e)).filter(e=>!n.some(t=>t.symbol===e.symbol));d(t.slice(0,10))}catch(e){console.error("Search error:",e),d([])}finally{m(!1)}}else d([])},F=e=>{u(e),d([]),i(e.symbol)},P=async e=>{if(e.preventDefault(),!h||!j||!N){alert("Please fill in all fields");return}let t=parseFloat(j),s=parseFloat(N);if(isNaN(t)||isNaN(s)||t<=0||s<=0){alert("Please enter valid numbers");return}k(!0);try{let e={symbol:h.symbol,name:h.shortname||h.longname||h.symbol,shares:t,avgPrice:s,currentPrice:0,value:0,return:0,returnPercentage:0};l(e),C()}catch(e){console.error("Error adding stock:",e),alert("Error adding stock to portfolio")}finally{k(!1)}},C=()=>{i(""),d([]),u(null),f(""),v("")};return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md bg-background rounded-lg shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Add Stock to Portfolio"}),(0,a.jsx)("button",{onClick:()=>{C(),s()},className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:P,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Stock Symbol"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-text-secondary"}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>S(e.target.value),placeholder:"Search stocks (e.g., AAPL, MSFT)",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent"})]}),o.length>0&&(0,a.jsx)("div",{className:"mt-2 max-h-48 overflow-y-auto bg-card rounded-lg border border-background",children:o.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>F(e),className:"w-full p-3 text-left hover:bg-background transition-colors border-b border-background last:border-b-0",children:[(0,a.jsx)("div",{className:"font-medium text-text-primary",children:e.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:e.shortname||e.longname}),(0,a.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.exchange," • ",e.typeDisp]})]},"".concat(e.symbol,"-").concat(t)))}),x&&(0,a.jsx)("div",{className:"mt-2 text-sm text-text-secondary",children:"Searching..."})]}),h&&(0,a.jsx)("div",{className:"bg-card rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-text-primary",children:h.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:h.shortname||h.longname})]}),(0,a.jsx)("button",{type:"button",onClick:()=>u(null),className:"text-text-secondary hover:text-text-primary",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Number of Shares"}),(0,a.jsx)("input",{type:"number",value:j,onChange:e=>f(e.target.value),placeholder:"Enter number of shares",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Average Price per Share ($)"}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>v(e.target.value),placeholder:"Enter average price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),j&&N&&!isNaN(parseFloat(j))&&!isNaN(parseFloat(N))&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"Total Investment"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-text-primary",children:["$",(parseFloat(j)*parseFloat(N)).toFixed(2)]})]}),(0,a.jsx)("button",{type:"submit",disabled:!h||!j||!N||w,className:"w-full bg-accent text-white py-3 px-4 rounded-lg hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Adding..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{className:"h-4 w-4"}),"Add to Portfolio"]})})]})]})}):null}let f=(0,x.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function N(e){let{isOpen:t,onClose:s,onUpdateStock:l,holding:n}=e,[c,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&(i(n.shares.toString()),d(n.avgPrice.toString()))},[n]);let h=async e=>{if(e.preventDefault(),!n||!c||!o){alert("Please fill in all fields");return}let t=parseFloat(c),s=parseFloat(o);if(isNaN(t)||isNaN(s)||t<=0||s<=0){alert("Please enter valid numbers");return}m(!0);try{let e={symbol:n.symbol,name:n.name,shares:t,avgPrice:s,currentPrice:0,value:0,return:0,returnPercentage:0};l(n.symbol,e),u()}catch(e){console.error("Error updating stock:",e),alert("Error updating stock in portfolio")}finally{m(!1)}},u=()=>{i(""),d("")};return t&&n?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md bg-background rounded-lg shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Edit Stock Position"}),(0,a.jsx)("button",{onClick:()=>{u(),s()},className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-card rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:n.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:n.name}),(0,a.jsxs)("div",{className:"text-sm text-text-secondary mt-1",children:["Current Price: $",n.currentPrice.toFixed(2)]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Number of Shares"}),(0,a.jsx)("input",{type:"number",value:c,onChange:e=>i(e.target.value),placeholder:"Enter number of shares",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Average Price per Share ($)"}),(0,a.jsx)("input",{type:"number",value:o,onChange:e=>d(e.target.value),placeholder:"Enter average price",step:"0.01",min:"0",className:"w-full px-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]}),c&&o&&!isNaN(parseFloat(c))&&!isNaN(parseFloat(o))&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"Total Investment"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-text-primary",children:["$",(parseFloat(c)*parseFloat(o)).toFixed(2)]})]}),c&&o&&!isNaN(parseFloat(c))&&!isNaN(parseFloat(o))&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 space-y-2",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Investment Comparison"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Current Investment:"}),(0,a.jsxs)("span",{children:["$",(n.shares*n.avgPrice).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"New Investment:"}),(0,a.jsxs)("span",{children:["$",(parseFloat(c)*parseFloat(o)).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,a.jsx)("span",{children:"Difference:"}),(0,a.jsxs)("span",{className:parseFloat(c)*parseFloat(o)-n.shares*n.avgPrice>=0?"text-success":"text-error",children:[parseFloat(c)*parseFloat(o)-n.shares*n.avgPrice>=0?"+":"","$",(parseFloat(c)*parseFloat(o)-n.shares*n.avgPrice).toFixed(2)]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:!c||!o||x,className:"w-full bg-accent text-white py-3 px-4 rounded-lg hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{className:"h-4 w-4"}),"Update Position"]})})]})]})}):null}var v=s(301);function w(e){let{isOpen:t,onClose:s,onSellStock:l,holding:n}=e,[c,i]=(0,r.useState)(""),[o,x]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&(i(""),x(n.currentPrice.toString()))},[n]);let u=async e=>{if(e.preventDefault(),!n||!c||!o){alert("Please fill in all fields");return}let t=parseFloat(c),s=parseFloat(o);if(isNaN(t)||isNaN(s)||t<=0||s<=0){alert("Please enter valid numbers");return}if(t>n.shares){alert("You cannot sell more shares than you own");return}h(!0);try{l(n.symbol,t,s),b()}catch(e){console.error("Error selling stock:",e),alert("Error selling stock")}finally{h(!1)}},b=()=>{i(""),x("")},g=()=>{if(!n||!c||!o)return 0;let e=parseFloat(c),t=parseFloat(o);if(isNaN(e)||isNaN(t))return 0;let s=e*n.avgPrice;return e*t-s};if(!t||!n)return null;let y=(()=>{if(!c||!o)return 0;let e=parseFloat(c),t=parseFloat(o);return isNaN(e)||isNaN(t)?0:e*t})(),j=g(),f=(()=>{if(!n||!c||!o)return 0;let e=parseFloat(c),t=parseFloat(o);if(isNaN(e)||isNaN(t))return 0;let s=e*n.avgPrice;return 0===s?0:g()/s*100})(),N=j>=0;return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md bg-background rounded-lg shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-error/20 text-error",children:(0,a.jsx)(d.A,{className:"h-5 w-5"})}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Sell Stock"})]}),(0,a.jsx)("button",{onClick:()=>{b(),s()},className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:u,className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-card rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-text-primary",children:n.symbol}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:n.name}),(0,a.jsxs)("div",{className:"text-sm text-text-secondary mt-1",children:["Current Price: $",n.currentPrice.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-text-secondary",children:["Owned: ",n.shares.toLocaleString()," shares"]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Shares to Sell"}),(0,a.jsx)("input",{type:"number",value:c,onChange:e=>i(e.target.value),placeholder:"Enter shares (max: ".concat(n.shares,")"),step:"0.01",min:"0",max:n.shares,className:"w-full px-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0}),(0,a.jsxs)("div",{className:"text-xs text-text-secondary mt-1",children:["Available: ",n.shares.toLocaleString()," shares"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Sell Price per Share ($)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-text-secondary"}),(0,a.jsx)("input",{type:"number",value:o,onChange:e=>x(e.target.value),placeholder:"Enter sell price",step:"0.01",min:"0",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary mb-3",children:"Quick Prices"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[.95*n.currentPrice,n.currentPrice,1.05*n.currentPrice].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>x(e.toFixed(2)),className:"px-3 py-2 text-sm rounded-lg bg-card text-text-primary hover:bg-background transition-colors border border-card",children:["$",e.toFixed(2)]},e))})]}),c&&o&&!isNaN(parseFloat(c))&&!isNaN(parseFloat(o))&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 space-y-3",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Sale Preview"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Sale Value:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",y.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Cost Basis:"}),(0,a.jsxs)("span",{children:["$",(parseFloat(c)*n.avgPrice).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium border-t border-background pt-2",children:[(0,a.jsx)("span",{children:"Profit/Loss:"}),(0,a.jsxs)("span",{className:N?"text-success":"text-error",children:[N?"+":"","$",j.toFixed(2)," (",f.toFixed(2),"%)"]})]})]}),c&&parseFloat(c)===n.shares&&(0,a.jsx)("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"text-sm text-warning",children:["⚠️ You're selling all shares of ",n.symbol,". This will remove the position from your portfolio."]})}),(0,a.jsx)("button",{type:"submit",disabled:!c||!o||isNaN(parseFloat(c))||isNaN(parseFloat(o))||0>=parseFloat(c)||parseFloat(c)>n.shares||m,className:"w-full bg-error text-white py-3 px-4 rounded-lg hover:bg-error/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Selling..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Sell ",c?parseFloat(c).toLocaleString():"0"," Shares"]})})]})]})})}var k=s(1560);function S(e){let{isOpen:t,onClose:s,onTransaction:l,action:n,currentBalance:c}=e,[i,o]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1),h=async e=>{if(e.preventDefault(),!i){alert("Please enter an amount");return}let t=parseFloat(i);if(isNaN(t)||t<=0){alert("Please enter a valid amount");return}if("withdraw"===n&&t>c){alert("Insufficient cash balance for withdrawal");return}m(!0);try{l(t),u()}catch(e){console.error("Error processing transaction:",e),alert("Error processing transaction")}finally{m(!1)}},u=()=>{o("")};if(!t)return null;let b="deposit"===n,g="deposit"===n?[100,500,1e3,5e3,1e4]:[100,500,1e3,Math.floor(c/2),c];return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md bg-background rounded-lg shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-card",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(b?"bg-success/20 text-success":"bg-error/20 text-error"),children:b?(0,a.jsx)(k.A,{className:"h-5 w-5"}):(0,a.jsx)(d.A,{className:"h-5 w-5"})}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:b?"Deposit Funds":"Withdraw Funds"})]}),(0,a.jsx)("button",{onClick:()=>{u(),s()},className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("form",{onSubmit:h,className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-card rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"Current Cash Balance"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-accent",children:["$",c.toLocaleString()]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:b?"Deposit Amount ($)":"Withdrawal Amount ($)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-text-secondary"}),(0,a.jsx)("input",{type:"number",value:i,onChange:e=>o(e.target.value),placeholder:"Enter ".concat(b?"deposit":"withdrawal"," amount"),step:"0.01",min:"0",max:b?void 0:c,className:"w-full pl-10 pr-4 py-2 rounded-lg bg-card text-text-primary placeholder:text-text-secondary focus:outline-none focus:ring-2 focus:ring-accent",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary mb-3",children:"Quick Amounts"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:g.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>o(e.toString()),className:"px-3 py-2 text-sm rounded-lg bg-card text-text-primary hover:bg-background transition-colors border border-card",children:["$",e.toLocaleString()]},e))})]}),i&&!isNaN(parseFloat(i))&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 space-y-2",children:[(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Transaction Preview"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Current Balance:"}),(0,a.jsxs)("span",{children:["$",c.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:b?"Deposit Amount:":"Withdrawal Amount:"}),(0,a.jsxs)("span",{className:b?"text-success":"text-error",children:[b?"+":"-","$",parseFloat(i).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium border-t border-background pt-2",children:[(0,a.jsx)("span",{children:"New Balance:"}),(0,a.jsxs)("span",{className:"text-accent",children:["$",(c+(b?parseFloat(i):-parseFloat(i))).toLocaleString()]})]})]}),"withdraw"===n&&i&&!isNaN(parseFloat(i))&&parseFloat(i)>c&&(0,a.jsx)("div",{className:"bg-error/10 border border-error/20 rounded-lg p-3",children:(0,a.jsx)("div",{className:"text-sm text-error",children:"⚠️ Insufficient funds. You cannot withdraw more than your current balance."})}),(0,a.jsx)("button",{type:"submit",disabled:!i||isNaN(parseFloat(i))||0>=parseFloat(i)||"withdraw"===n&&parseFloat(i)>c||x,className:"w-full py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ".concat(b?"bg-success text-white hover:bg-success/90":"bg-error text-white hover:bg-error/90"),children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[b?(0,a.jsx)(k.A,{className:"h-4 w-4"}):(0,a.jsx)(d.A,{className:"h-4 w-4"}),b?"Deposit Funds":"Withdraw Funds"]})})]})]})})}var F=s(6642);function P(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(0),[i,o]=(0,r.useState)({totalValue:0,totalReturn:0,returnPercentage:0,todayReturn:0,todayPercentage:0,cashBalance:0}),[d,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[f,v]=(0,r.useState)("deposit"),[k,P]=(0,r.useState)(null),[C,A]=(0,r.useState)(!0),E=(0,r.useCallback)((e,t)=>{let s=e.reduce((e,t)=>e+t.value,0),a=e.reduce((e,t)=>e+t.shares*t.avgPrice,0),r=s-a;o({totalValue:s+t,totalReturn:r,returnPercentage:a>0?r/a*100:0,todayReturn:0,todayPercentage:0,cashBalance:t})},[]),$=(0,r.useCallback)((e,t)=>{try{localStorage.setItem("portfolioHoldings",JSON.stringify(e)),localStorage.setItem("portfolioCash",t.toString())}catch(e){console.error("Error saving portfolio data:",e)}},[]),D=(0,r.useCallback)(e=>{try{let t=localStorage.getItem("portfolioHistory"),s=t?JSON.parse(t):[],a={...e,id:Date.now().toString(),timestamp:new Date};s.unshift(a),localStorage.setItem("portfolioHistory",JSON.stringify(s))}catch(e){console.error("Error saving transaction history:",e)}},[]),M=(0,r.useCallback)(()=>{try{let e=localStorage.getItem("portfolioHoldings"),s=localStorage.getItem("portfolioCash"),a=[],r=0;e&&(a=JSON.parse(e)),s&&(r=parseFloat(s)),t(a),n(r),E(a,r)}catch(e){console.error("Error loading portfolio data:",e)}finally{A(!1)}},[E]),I=(0,r.useCallback)(async e=>{if(0===e.length){A(!1);return}try{let a=await Promise.all(e.map(async e=>{try{let t=(await (0,F.D)(e.symbol)).price,s=e.shares*t,a=e.shares*e.avgPrice,r=s-a;return{...e,currentPrice:t,value:s,return:r,returnPercentage:a>0?r/a*100:0}}catch(t){return console.error("Error fetching price for ".concat(e.symbol,":"),t),e}}));t(a),E(a,s),$(a,s)}catch(e){console.error("Error updating current prices:",e)}finally{A(!1)}},[s,E,$]);(0,r.useEffect)(()=>{M()},[]),(0,r.useEffect)(()=>{e.length>0&&I(e)},[]);let L=(0,r.useCallback)(async a=>{try{let r=(await (0,F.D)(a.symbol)).price,l=a.shares*r,n=a.shares*a.avgPrice,c=l-n,i={...a,currentPrice:r,value:l,return:c,returnPercentage:n>0?c/n*100:0},o=[...e,i];t(o),E(o,s),$(o,s),D({type:"buy",symbol:a.symbol,name:a.name,shares:a.shares,price:a.avgPrice,amount:a.shares*a.avgPrice,description:"Bought ".concat(a.shares," shares of ").concat(a.symbol," at $").concat(a.avgPrice.toFixed(2))}),x(!1)}catch(e){console.error("Error adding stock:",e),alert("Error adding stock. Please try again.")}},[e,s,E,$,D]),B=(0,r.useCallback)((a,r,l)=>{let c;let i=e.find(e=>e.symbol===a);if(!i)return;let o=r*l,d=i.shares-r;c=0===d?e.filter(e=>e.symbol!==a):e.map(e=>e.symbol===a?{...e,shares:d}:e);let x=s+o;t(c),n(x),E(c,x),$(c,x),D({type:"sell",symbol:i.symbol,name:i.name,shares:r,price:l,amount:o,description:"Sold ".concat(r," shares of ").concat(i.symbol," at $").concat(l.toFixed(2))}),b(!1),P(null)},[e,s,E,$,D]),H=(0,r.useCallback)((a,r)=>{let l=e.map(e=>e.symbol===a?{...r,currentPrice:e.currentPrice,value:0,return:0,returnPercentage:0}:e);t(l),E(l,s),$(l,s),h(!1),P(null)},[e,s,E,$]),R=(0,r.useCallback)(a=>{let r=e.find(e=>e.symbol===a);r&&D({type:"sell",symbol:r.symbol,name:r.name,shares:r.shares,price:r.currentPrice,amount:r.value,description:"Removed ".concat(r.shares," shares of ").concat(r.symbol," from portfolio")});let l=e.filter(e=>e.symbol!==a);t(l),E(l,s),$(l,s)},[e,s,E,$,D]),V=(0,r.useCallback)(e=>{P(e),h(!0)},[]),q=(0,r.useCallback)(e=>{P(e),b(!0)},[]),O=(0,r.useCallback)(e=>{v(e),y(!0)},[]),T=(0,r.useCallback)(t=>{let a=s;if("deposit"===f)a+=t;else if("withdraw"===f){if(t>s){alert("Insufficient cash balance for withdrawal");return}a-=t}n(a),localStorage.setItem("portfolioCash",a.toString()),E(e,a),D({type:f,amount:t,description:"".concat("deposit"===f?"Deposited":"Withdrew"," $").concat(t.toLocaleString())}),y(!1)},[s,f,e,E,D]),W=(0,r.useCallback)(t=>{switch(t){case"deposit":O("deposit");break;case"buy":x(!0);break;case"sell":if(0===e.length){alert("No stocks to sell. Add some stocks first.");return}alert("Select a stock from your holdings to sell");break;case"withdraw":O("withdraw")}},[O,e]);return C?(0,a.jsx)(l.x,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-text-secondary",children:"Loading portfolio..."})})}):(0,a.jsxs)(l.x,{children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Value"}),(0,a.jsxs)("div",{className:"text-3xl font-bold",children:["$",i.totalValue.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm ".concat(i.totalReturn>=0?"text-success":"text-error"),children:[i.totalReturn>=0?"+":"","$",i.totalReturn.toFixed(2)," (",i.returnPercentage.toFixed(2),"%)"]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Return"}),(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(i.totalReturn>=0?"text-success":"text-error"),children:[i.totalReturn>=0?"+":"","$",i.totalReturn.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-sm text-text-secondary",children:[i.returnPercentage.toFixed(2),"% return"]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Cash Balance"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-success",children:["$",s.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Available for trading"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Holdings"}),(0,a.jsx)("div",{className:"text-3xl font-bold",children:e.length}),(0,a.jsx)("div",{className:"text-sm text-text-secondary",children:"Different stocks"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(c,{holdings:e,totalValue:i.totalValue,cashBalance:s})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>W("deposit"),className:"w-full bg-accent text-white py-3 px-4 rounded-lg hover:bg-accent/90 transition-colors",children:"Deposit Funds"}),(0,a.jsx)("button",{onClick:()=>W("buy"),className:"w-full bg-success text-white py-3 px-4 rounded-lg hover:bg-success/90 transition-colors",children:"Buy Stocks"}),(0,a.jsx)("button",{onClick:()=>W("sell"),className:"w-full bg-error text-white py-3 px-4 rounded-lg hover:bg-error/90 transition-colors",children:"Sell Stocks"}),(0,a.jsx)("button",{onClick:()=>W("withdraw"),className:"w-full bg-card text-text-primary py-3 px-4 rounded-lg hover:bg-background transition-colors border border-card",children:"Withdraw Funds"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Asset Holdings"}),(0,a.jsx)("button",{onClick:()=>x(!0),className:"bg-accent text-white px-4 py-2 rounded-lg hover:bg-accent/90 transition-colors",children:"Add Stock"})]}),(0,a.jsx)(u,{holdings:e,onRemoveStock:R,onEditStock:V,onSellStock:q})]})]}),(0,a.jsx)(j,{isOpen:d,onClose:()=>x(!1),onAddStock:L,existingHoldings:e}),(0,a.jsx)(N,{isOpen:m,onClose:()=>{h(!1),P(null)},onUpdateStock:H,holding:k}),(0,a.jsx)(w,{isOpen:p,onClose:()=>{b(!1),P(null)},onSellStock:B,holding:k}),(0,a.jsx)(S,{isOpen:g,onClose:()=>y(!1),onTransaction:T,action:f,currentBalance:s})]})}},3303:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},3998:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},301:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[106,640,451,441,517,358],()=>t(2061)),_N_E=e.O()}]);